@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  :root {
    --background: 0 0% 100%;
    --foreground: 222.2 84% 4.9%;
    --card: 0 0% 100%;
    --card-foreground: 222.2 84% 4.9%;
    --popover: 0 0% 100%;
    --popover-foreground: 222.2 84% 4.9%;
    --primary: 221.2 83.2% 53.3%;
    --primary-foreground: 210 40% 98%;
    --secondary: 210 40% 96.1%;
    --secondary-foreground: 222.2 47.4% 11.2%;
    --muted: 210 40% 96.1%;
    --muted-foreground: 215.4 16.3% 46.9%;
    --accent: 210 40% 96.1%;
    --accent-foreground: 222.2 47.4% 11.2%;
    --destructive: 0 84.2% 60.2%;
    --destructive-foreground: 210 40% 98%;
    --border: 214.3 31.8% 91.4%;
    --input: 214.3 31.8% 91.4%;
    --ring: 221.2 83.2% 53.3%;
    --radius: 0.5rem;
  }

  .dark {
    --background: 222.2 84% 4.9%;
    --foreground: 210 40% 98%;
    --card: 222.2 84% 4.9%;
    --card-foreground: 210 40% 98%;
    --popover: 222.2 84% 4.9%;
    --popover-foreground: 210 40% 98%;
    --primary: 217.2 91.2% 59.8%;
    --primary-foreground: 222.2 47.4% 11.2%;
    --secondary: 217.2 32.6% 17.5%;
    --secondary-foreground: 210 40% 98%;
    --muted: 217.2 32.6% 17.5%;
    --muted-foreground: 215 20.2% 65.1%;
    --accent: 217.2 32.6% 17.5%;
    --accent-foreground: 210 40% 98%;
    --destructive: 0 62.8% 30.6%;
    --destructive-foreground: 210 40% 98%;
    --border: 217.2 32.6% 17.5%;
    --input: 217.2 32.6% 17.5%;
    --ring: 224.3 76.3% 48%;
  }
}

@layer base {
  * {
    @apply border-border;
  }
  html {
    @apply text-foreground;
    /* Remove height constraint to allow natural document scrolling */
    overflow-x: hidden;
    /* Allow natural scrolling for iOS Safari address bar behavior */
    overscroll-behavior-y: auto;
    overscroll-behavior-x: none;
    scroll-behavior: smooth;
  }
  
  body {
    @apply bg-background text-foreground;
    /* Remove height constraint to allow natural document scrolling */
    overflow-x: hidden;
    /* Allow natural scrolling for iOS Safari address bar behavior */
    overscroll-behavior-y: auto;
    overscroll-behavior-x: none;
  }
  body {
    position: relative;
    min-height: 100vh;
    /* Ensure smooth scrolling for iOS Safari */
    -webkit-overflow-scrolling: touch;
  }
}

@keyframes scroll {
  0% {
    transform: translateX(0);
  }
  100% {
    transform: translateX(-100%);
  }
}

.animate-scroll {
  animation: scroll 20s linear infinite;
}

.line-clamp-2 {
  display: -webkit-box;
  -webkit-line-clamp: 2;
  -webkit-box-orient: vertical;
  overflow: hidden;
}

/* Prevent elastic scrolling and overscroll behavior */
.overscroll-none {
  overscroll-behavior: none;
  overscroll-behavior-y: none;
  overscroll-behavior-x: none;
}

/* Additional fixes for iOS Safari scrolling and address bar behavior */
@supports (-webkit-touch-callout: none) {
  html, body {
    -webkit-overflow-scrolling: touch;
    /* Allow natural scrolling for address bar behavior */
    overscroll-behavior-y: auto;
    overscroll-behavior-x: none;
    /* Remove height constraint to allow document scrolling */
    min-height: 100vh;
    min-height: -webkit-fill-available;
  }
  
  /* Fix for iOS Safari viewport height issues */
  body {
    min-height: 100vh;
    min-height: -webkit-fill-available;
  }
}

/* iOS Safari address bar fixes */
html {
  /* Force white color for the refresh bar area */
  background-color: #ffffff !important;
  background: #ffffff !important;
  background-image: none !important;
  margin: 0;
  padding: 0;
  /* Additional properties for iOS Safari refresh bar */
  -webkit-tap-highlight-color: transparent;
  /* Try setting the background on the document element */
  background-attachment: fixed;
}

/* Set white background on document element */
document {
  background-color: #ffffff !important;
  background: #ffffff !important;
}

body {
  /* Set white color for iOS Safari refresh bar */
  background-color: #ffffff !important;
  margin: 0;
  padding: 0;
}

/* Force white background on document root */
:root {
  background-color: #ffffff !important;
  background: #ffffff !important;
}

/* Force white backgrounds in all modes */
@media (prefers-color-scheme: dark) {
  html {
    background-color: #ffffff !important;
    background: #ffffff !important;
    background-image: none !important;
  }
  
  body {
    background-color: #ffffff !important;
  }
  
  :root {
    background-color: #ffffff !important;
    background: #ffffff !important;
  }
}

/* Additional iOS Safari refresh bar styling */
@supports (-webkit-touch-callout: none) {
  html {
    background-color: #ffffff !important;
    background: #ffffff !important;
    background-image: none !important;
    /* Additional iOS Safari properties */
    -webkit-background-size: cover;
    background-size: cover;
  }
  
  :root {
    background-color: #ffffff !important;
    background: #ffffff !important;
  }
  
  document {
    background-color: #ffffff !important;
    background: #ffffff !important;
  }
}

/* Ensure proper scrolling behavior for iOS Safari address bar */
html {
  /* Allow the document to scroll naturally */
  overflow-y: auto;
  overflow-x: hidden;
}

body {
  /* Ensure body can scroll and trigger address bar behavior */
  overflow-y: auto;
  overflow-x: hidden;
}

/* Ensure header area is always white during loading */
header {
  background-color: #ffffff !important;
}

/* Ensure navbar area is white during loading */
body > main > div > header {
  background-color: #ffffff !important;
}

/* Force only navbar to always be white regardless of theme */
header {
  background-color: #ffffff !important;
}

/* Override any dark mode classes for navbar only */
.dark header {
  background-color: #ffffff !important;
}
